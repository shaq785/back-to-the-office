var Engine=function(e){var a,s=e.document,g=e.window,o=s.createElement("canvas"),c=o.getContext("2d");o.width=707;o.height=1.133*o.width,s.getElementById("canvas").appendChild(o);var n="ontouchstart"in window||navigator.msMaxTouchPoints>0;function i(){var e=Date.now();!function(e){(function(e){player.deathAnimate||player.winAnimate||(allEnemies.forEach((function(a){a.update(e)})),player.update(),allGems.forEach((function(a){a.update(e)})))})(e),player.deathAnimate||player.winAnimate||(player.checkCollisions(),allGems.forEach((function(e){e.checkGems(player)})))}((e-a)/1e3),r(),a=e,g.requestAnimationFrame(i)}function r(){var e,a,s=["images/background-cube-office.png","images/background-cube-grass.png","images/background-cube-road1.png","images/background-cube-road2.png","images/background-cube-sidewalk.png","images/background-cube-grass.png","images/background-cube-tile.png","images/background-cube-grass.png"];for(c.clearRect(0,0,o.width,o.height),e=0;e<8;e++)for(a=0;a<7;a++)c.drawImage(Resources.get(s[e]),101*a,83*e),0==e&&player.score<450?c.drawImage(Resources.get("images/doorway-closed.png"),303,200*e):0==e&&player.score>=450&&c.drawImage(Resources.get("images/doorway-open.png"),303,200*e);allEnemies.forEach((function(e){e.render()})),player.render(),allGems.forEach((function(e){e.render()}))}window.screen.height>901&&window.screen.height<1121&&!n&&(document.body.style.transform="scale(.67) translate(0, -20%)"),window.screen.height<901&&!n&&(document.body.style.transform="scale(.5) translate(0, -51%)"),console.log("canvasHeight",o.height,"canvasWidth",o.width),document.getElementById("pauseGame").onclick=function(){r(),console.log("RESET")},Resources.load(["images/cars1.svg","images/cars2.svg","images/cars1-right.svg","images/cars2-right.svg","images/character-default.svg","images/character-death.svg","images/character-left.svg","images/character-right.svg","images/character-back.svg","images/character-win.svg","images/boost-coffee1.svg","images/boost-coffee2.svg","images/boost-coffee3.svg","images/boost-coffee4.svg","images/boost-mask1.svg","images/boost-mask2.svg","images/boost-mask3.svg","images/boost-mask4.svg","images/boost-vaccine1.svg","images/boost-vaccine2.svg","images/boost-vaccine3.svg","images/boost-vaccine4.svg","images/background-cube-office.png","images/background-cube-sidewalk.png","images/background-cube-tile.png","images/background-cube-grass.png","images/background-cube-road1.png","images/background-cube-road2.png","images/doorway-closed.png","images/doorway-open.png","images/bus.svg","images/truck.svg","images/protestors1.svg","images/protestors2.svg","images/covid.svg","images/clothes1.svg","images/clothes2.svg","images/mask-ordinance1.svg","images/mask-ordinance2.svg"]),Resources.onReady((function(){a=Date.now(),i()})),e.ctx=c}(this);